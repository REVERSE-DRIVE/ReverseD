using System.Collections;
using EnemyManage;
using UnityEngine;

// 칼 쓰는 애
public class Malware : PlayerAttack
{
    public override IEnumerator AttackRoutine()
    {
        _attackAnimators[0].SetTrigger("Attack");
        Collider2D[] coll = Physics2D.OverlapCircleAll(
            new Vector2(_playerTransform.x + dir.x, _playerTransform.y + dir.y), 1.4f, _whatIsEnemy);
        foreach (Collider2D c in coll)
        {
            //print("Enemy check");
            c.GetComponent<Enemy>().TakeDamage(PlayerManager.Instance.PlayerSO.attackDamage);
        }
        
        yield return new WaitForSeconds(_attackCooltime);
        isAllowAttack = true;
    }
}